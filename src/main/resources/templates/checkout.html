<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="common/header :: common-header" />

<body>
	<div th:replace="common/header :: navbar" />
	<div class="container">
		<div class="row" style="margin-bottom: -100px;">
			<div class="col-xs-8">
				<h2 class="section-headline">
					<span>User Account</span>
				</h2>
			</div>
			<div class="col-xs-4">
				<img src="/image/logo.png" class="img-responsive" />
			</div>
			<hr
				style="position: absolute; width: 100%; height: 6px; background-color: e #333; z-index: -1; margin-top: 100px;" />
		</div>

		<img src="/image/wood.png" class="img-responsive"
			style="margin-top: -75px;" />

		<div class="row" style="margin-top: 10px;">
			<form th:action="@{/checkout}" method="post">

				<!-------- left panel -------------->
				<div class="col-xs-4">
					<div class="panel panel-defualt">
						<div class="panel-body">
							<button type="submit" class="btn btn-warning btn-block">Place
								your order</button>
							<hr />
							<h3>Order Summary</h3>
							<div class="row">
								<div class="col-xs-7 text-left">Total before tax:</div>
								<div class="col-xs-5 text-right">
									$<span th:text="shoppingCart.grandTotal"></span>
								</div>
							</div>
							<div class="row">
								<div class="col-xs-7 text-left">
									<h3 style="color: darkred;">
										<strong>Order Total:</strong>
									</h3>
								</div>
								<div class="col-xs-5 text-right">
									<h3>
										<strong style="color: darkred;">$<span
											th:with="total=${shoppingCart.grandTotal+shoppingCart.grandTotal*0.06"
											th:text="${#numbers.formatDecimal(total, 0, 2)}"></span></strong>
									</h3>
								</div>
							</div>
							<div class="panel-footer">Shipping and handling haven't
								applied</div>
						</div>
					</div>
				</div>
				<!----------checkout info panel --------->
				<div class="col-xs-8">
					<div th:if=${missingRequiredField>
						<h5 class="alert alert-warning">There are some fields
							missing. Field with * is required.</h5>
					</div>
					<div class="panel-group" id="accordion">

						<!-- Shipping Address -->
						<div class="panel panel-default">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion"
									href="#shippingInfo"> 2. Shipping Address </a>
							</h4>
						</div>
						<div id="shippingInfo" class="panel-collapse collapse"
							th:classappend="${classActiveShipping}? 'in'">
							<div class="panel-body">
								<table class="table" th:if="${not emptyShippingList">
									<thead>
										<tr>
											<th>Available Shipping Address
										</tr>
										<th>Operations</th>
									</thead>
									<tbody>
										<tr th:each="userShipping : ${userShippingList}">
											<td
												th:text="${userShipping.userShippingStreet1}+' '+${userShipping.userShippingstreet2}+', '+${userShipping.usershipping.city}+', '+${userShipping.userShippingState}"></td>
											<td><a
												th:href="${/setShippingAddress(userShippingId=${userShipping.id})}">user
													this address</a></td>
										</tr>
									</tbody>
								</table>
								<div class="form-group">
									<label for="shippingName">* Name</label> <input type="text"
										class="form-control" id="shippingName" palceholder="Name"
										name="shippingAddressName"
										th:value="${shippingAddress.shippingAddressName}">
								</div>

								<div class="form-group">
									<label for="shippingStreet">* Street 1</label> <input
										type="text" class="form-control" id="shippingStreet"
										palceholder="Street 1" name="shippingAddressStreet1"
										th:value="${shippingAddress.shippingAddressStreet1}">
								</div>

								<div class="form-group">
									<input type="text" class="form-control" palceholder="Street 2"
										name="shippingAddressStreet2"
										th:value="${shippingAddress.shippingAddressStreet2}">
								</div>

								<div class="row">
									<div class="col-xs-4">
										<div class="form-group">
											<label for="shippingAddressCity">* city</label> <input type="text"
												class="form-control" id="shippingAddressCity" placeHolder="City"
												th:name="ShippingAddressCity" required="required"
												th:value="${shippingAddress.shippingAddressCity}" />
										</div>
									</div>
									<div class="col-xs-4">
										<div class="form-group">
											<label for="shippingAddressState">* State</label> <select
												id="shippingAddressState" class="form-control"
												th:name="shippingAddressState"
												value="${shippingAddress.shippingAddressState}"
												required="required">
												<option value="" disabled="disabled">select a state</option>
												<option th:each="state : ${stateList}" th:text="${state}"
													th:selected="(${shippingAddress.shippingAddressState}==${state})"></option>
											</select>
										</div>
									</div>
									<div class="col-xs-4">
										<div class="form-group">
											<label for="shippingAddressZipcode">* Zipcode</label> <input
												type="text" class="form-control" id="shippingAddressZipcode"
												placeHolder="Zipcode" th:name="shippingAddressZipcode"
												required="required"
												th:value="${shippingAddress.shippingAddressZipcode}" />
										</div>
									</div>
								</div>
								<a data-toggele="collapse" data-parent="#accordion" class="btn tbn-warning pull-right" href="#paymentInfo">Next</a>
							</div>
						</div>
					</div>
				</div>

			</form>
		</div>
	</div>

	<div th:replace="common/header :: body-bottom-scripts" />
</body>
</html>